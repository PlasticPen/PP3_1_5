

<script>
    $(document).on('show.bs.modal', '#editModal', function (event) {
        $.getJSON('http://localhost:8080/api/users/' + $(event.relatedTarget).data('id'), function(jd) {
            $("#sampleId").text(jd.id);
            $("#id").attr('placeholder', jd.id);
            $("#firstname").attr('value', jd.surname);
            $("#lastname").attr('value', jd.name);
            $("#age").attr('value', jd.age);
            $("#email").attr('value', jd.username);
            $("#password").attr('field', jd.password);
            $("#editButton").click(function(){
                var arr = { "name":$("#firstname").val(),
                    "surname":$("#lastname").val(),
                    "age":$("#age").val(),
                    "username":$("#email").val(),
                    "password":$("#password").val(),
                    "roleId":$("#roleId").val(),
                };
                $.ajax('http://localhost:8080/api/users/' + jd.id,{
                    'data': JSON.stringify(arr),
                    'type': 'PATCH',
                    'processData': false,
                    'contentType': 'application/merge-patch+json'
                });
            })
        })
    })
</script>

<!-- Modal-->
<!--<div class="modal fade" th:id="editModal+${user.getId()}" tabindex="-1" role="dialog" aria-labelledby="EditModalLabel" aria-hidden="true" style="font-weight:bold">-->
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="EditModalLabel" aria-hidden="true"
     style="font-weight:bold">
    <div class="modal-dialog" role="document">
        <!--        <form th:method="PATCH" th:action="@{/admin/{id}(id=${user.getId()})}" th:object="${newUser}">-->
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="EditModalLabel">Edit user</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="text-align:center;">
                <p>Are you sure that you want to delete this <span id="sampleId"></span> sample?</p>
                <div class="mx-auto" style="width: 300px;">
                    <label for="id">ID</label>
                    <!--                            <input type="text" class="form-control" id="id" th:attr="placeholder=${user.getId()}" disabled>-->
                    <input type="text" class="form-control" id="id" disabled>
                </div>
                <div class="mx-auto" style="width: 300px;">
                    <label for="firstname">First name</label>
                    <!--                            <input type="text" class="form-control" id="firstname" th:value="${user.getName()}" th:name="name" required>-->
                    <input type="text" class="form-control" id="firstname" required>
                </div>
                <div class="mx-auto" style="width: 300px;">
                    <label for="lastname">Last name</label>
                    <!--                            <input type="text" class="form-control" id="lastname" th:value="${user.getSurname()}" th:name="surname" required>-->
                    <input type="text" class="form-control" id="lastname" required>
                </div>
                <div class="mx-auto" style="width: 300px;">
                    <label for="age">Age</label>
                    <!--                            <input type="text" class="form-control" id="age" th:value="${user.getAge()}" th:name="age" required>-->
                    <input type="text" class="form-control" id="age" required>
                </div>
                <div class="mx-auto" style="width: 300px;">
                    <label for="email">Email</label>
                    <!--                            <input type="email" class="form-control" id="email" th:value="${user.getUsername()}" th:name="username" required>-->
                    <input type="email" class="form-control" id="email" required>
                </div>
                <div class="mx-auto" style="width: 300px;">
                    <label for="password">Password</label>
                    <!--                            <input type="password" class="form-control" id="password" th:field="*{password}">-->
                    <input type="password" class="form-control" id="password">
                </div>
                <div class="mx-auto" style="width: 300px;">
                    <label>Role</label>
                    <!--                            <select class="custom-select" size="2"  th:field="*{roleId}">-->
                    <select class="custom-select" size="2">
                        <option th:value="2">ADMIN</option>
                        <option th:value="1">USER</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary" id="editButton">Edit</button>
            </div>
        </div>
        <!--                </form>-->
    </div>
</div>

<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Title</title>-->
<!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>-->
<!--    <script src="/jqueryEditUser.js"></script>-->

<!--</head>-->
<!--<body>-->

<!--<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="EditModalLabel" aria-hidden="true"-->
<!--     style="font-weight:bold">-->
<!--    <div class="modal-dialog" role="document">-->
<!--        &lt;!&ndash;        <form th:method="PATCH" th:action="@{/admin/{id}(id=${user.getId()})}" th:object="${newUser}">&ndash;&gt;-->
<!--        <div class="modal-content">-->
<!--            <div class="modal-header">-->
<!--                <h5 class="modal-title" id="EditModalLabel">Edit user</h5>-->
<!--                <button type="button" class="close" data-dismiss="modal" aria-label="Close">-->
<!--                    <span aria-hidden="true">&times;</span>-->
<!--                </button>-->
<!--            </div>-->
<!--            <div class="modal-body" style="text-align:center;">-->
<!--                <p>Are you sure that you want to delete this <span id="sampleId"></span> sample?</p>-->
<!--                <div class="mx-auto" style="width: 300px;">-->
<!--                    <label for="id">ID</label>-->
<!--                    &lt;!&ndash;                            <input type="text" class="form-control" id="id" th:attr="placeholder=${user.getId()}" disabled>&ndash;&gt;-->
<!--                    <input type="text" class="form-control" id="id" disabled>-->
<!--                </div>-->
<!--                <div class="mx-auto" style="width: 300px;">-->
<!--                    <label for="firstname">First name</label>-->
<!--                    &lt;!&ndash;                            <input type="text" class="form-control" id="firstname" th:value="${user.getName()}" th:name="name" required>&ndash;&gt;-->
<!--                    <input type="text" class="form-control" id="firstname" required>-->
<!--                </div>-->
<!--                <div class="mx-auto" style="width: 300px;">-->
<!--                    <label for="lastname">Last name</label>-->
<!--                    &lt;!&ndash;                            <input type="text" class="form-control" id="lastname" th:value="${user.getSurname()}" th:name="surname" required>&ndash;&gt;-->
<!--                    <input type="text" class="form-control" id="lastname" required>-->
<!--                </div>-->
<!--                <div class="mx-auto" style="width: 300px;">-->
<!--                    <label for="age">Age</label>-->
<!--                    &lt;!&ndash;                            <input type="text" class="form-control" id="age" th:value="${user.getAge()}" th:name="age" required>&ndash;&gt;-->
<!--                    <input type="text" class="form-control" id="age" required>-->
<!--                </div>-->
<!--                <div class="mx-auto" style="width: 300px;">-->
<!--                    <label for="email">Email</label>-->
<!--                    &lt;!&ndash;                            <input type="email" class="form-control" id="email" th:value="${user.getUsername()}" th:name="username" required>&ndash;&gt;-->
<!--                    <input type="email" class="form-control" id="email" required>-->
<!--                </div>-->
<!--                <div class="mx-auto" style="width: 300px;">-->
<!--                    <label for="password">Password</label>-->
<!--                    &lt;!&ndash;                            <input type="password" class="form-control" id="password" th:field="*{password}">&ndash;&gt;-->
<!--                    <input type="password" class="form-control" id="password">-->
<!--                </div>-->
<!--                <div class="mx-auto" style="width: 300px;">-->
<!--                    <label>Role</label>-->
<!--                    &lt;!&ndash;                            <select class="custom-select" size="2"  th:field="*{roleId}">&ndash;&gt;-->
<!--                    <select class="custom-select" size="2">-->
<!--                        <option th:value="2">ADMIN</option>-->
<!--                        <option th:value="1">USER</option>-->
<!--                    </select>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="modal-footer">-->
<!--                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>-->
<!--                <button type="submit" class="btn btn-primary">Edit</button>-->
<!--            </div>-->
<!--        </div>-->
<!--        &lt;!&ndash;                </form>&ndash;&gt;-->
<!--    </div>-->
<!--</div>-->

<!--</body>-->
<!--</html>-->